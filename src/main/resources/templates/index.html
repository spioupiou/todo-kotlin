<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Todoリスト課題トップページ</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
				integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
<div class="container py-3">
	<form action="/register" method="post">
		<div class="form-group mb-3">
			<label for="title">タイトル</label>
			<input type="text" class="form-control mb-2 mr-sm-2" name="title" id="title">
		</div>
		<div class="form-group mb-3">
			<label for="deadline">期日</label>
			<input type="date" class="form-control mb-2 mr-sm-2" name="deadline" id="deadline">
		</div>
		<button type="submit" class="btn btn-primary mb-2">登録</button>
	</form>
</div>

<div class="list-group">
	<div class="list-group-item" th:each="todo : ${todos}" th:object="${todo}">
		<div class="d-flex w-100 justify-content-between">
			<div th:if="${todo.status}" class="active">
				<input class="form-check-input me-1" type="checkbox" checked="checked">
			</div>
			<div th:unless="${todo.status}">
				<input class="form-check-input me-1" type="checkbox">
			</div>
			<h5 class="mb-1" th:text="*{title}"></h5>
			<div th:if="${todo.deadline.minusDays(3) < today && todo.deadline >= today}">
				<span class="badge bg-warning" th:text="${#temporals.format(todo.deadline, 'yyyy/MM/dd')}"></span>
			</div>
			<div th:if="${todo.deadline < today}">
				<span class="badge bg-danger" th:text="${#temporals.format(todo.deadline, 'yyyy/MM/dd')}"></span>
			</div>
			<div th:if="${today <= todo.deadline.minusDays(3)}">
				<span class="badge bg-info" th:text="${#temporals.format(todo.deadline, 'yyyy/MM/dd')}"></span>
			</div>
		</div>
	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
				crossorigin="anonymous"></script>
</body>
</html>